
<style>
.wrapper {
    width: 900px;
    margin: 0 auto;
}
table {
  border-collapse: collapse;
  width: 100%;
  text-align: center;
}
table, td, th {
  border: 1px solid;
}
</style>


<div class="wrapper">
    <div class="py-4 flex flex-row justify-between">
        <h1>Control Post</h1>
        <button class="px-4 py-2 border border-solid border-[#ccc] rounded-xl" (click)="showModal(null,true)">Thêm mới post</button>
    </div>
    <div>
        <table >
            <thead>
                <td>
                    id
                </td>
                <td>
                    title
                </td>
                <td>
                    view
                </td>
                <td></td>
            </thead>
            <tbody>
                @for(item of posts;track item.id;let idx = $index, e = $even) {
                    <tr>
                        <td>{{item.id}}</td>
                        <td>{{item.title}}</td>
                        <td>{{item.views}}</td>
                        <td>
                            <button class="px-2 py-1 border border-solid border-[#ccc] rounded-md" (click)="showModal(item,true)">Edit</button>
                            <button class="px-2 py-1 border border-solid border-[#ccc] rounded-md" (click)="delPost(item.id)">Delete</button>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <!-- modal -->
    <div class="absolute top-0 right-0 bottom-0 left-0 flex justify-center items-center" [class.hidden]="!show.open">
        <div class="absolute top-0 right-0 bottom-0 left-0 bg-black opacity-50" (click)="showModal(null,false)"></div>
        <div class="w-[300] p-4 bg-white absolute ">
            <form #form="ngForm" (ngSubmit)="onSubmit(form)">
                <label for="title">
                  Title:
                </label>
                <input [(ngModel)]="show.data.title" type="text" name="title" required class="border border-solid border-[#ccc] px-2 ">
                <br>
                <button type="submit" [disabled]="form.invalid" class="px-2 py-1 border border-solid border-[#ccc] rounded-md my-2">Submit</button>
              </form>
              
        </div>


    </div>

</div>